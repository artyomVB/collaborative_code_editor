# Для запуска нужен docker-compose

```bash
docker-compose up
```

# Описание приложения
Коллаборативный редактор кода - позволяет нескольким пользователям совместно работать над некоторым текстом/кодом. Каждый раз когда пользователь хочет поработать с новым документом, он создает новую сессиию. Ей присваивается уникальный идентификатор, также есть возможность присвоить сессии короткий, запоминающийся идентификатор. В сессию по идентификатору может зайти другой пользователь и присоединиться к редактированию текста. Есть возможность присоединиться только в режиме просмотра. Также поддерживается авторизация. Приложение состоит из трех сервисов (Api, SessionProcessor, SessionProcessorRO), первый представляет собой веб-сервер на Flask, а второй и третий отвечают за неосредственную обработку введеных на фронте символов и общаются между собой через RabbbitMQ. В основе фронтенда лежит библиотека CodeMirror (https://codemirror.net/). 

Использованные технологии: python 3.9, Flask, asyncio, websockets, RabbitMQ, PostgreSQL, JS/HTML.

Демо: https://drive.google.com/file/d/1ssnm3NEDSDhFcntafyG-5oVtpatZjWua/view?usp=sharing

# Об API

Сервер написан на Python с использованием фреймворка Flask. Есть следующие эндпоинты, котрые получают и отдают JSON-ы.

## /login
Получает логин и пароль, проверяет их по базе и выдает два токена, с которыми можно ходить по другим эндпоинтам.

## /signup
Регистрация

## /updateToken
Туда идем, когда истекает срок действия основного токена

## /sessions
### GET
Выдает список сессий, владельцем которых является пользователь

### POST
Добавляет новую сессию, выдает пользователю ее идентефикатор.

## /sessions/<session_id>
Заходит в конкретную сессию

## /sessions/<session_id>/shortid
Выдает удобный короткий id для сессии, протухает спутя 7 дней неиспользования сессии

## /sessions/<session_id>/replay
Позволяет проиграть по шагам одну сессию

## /sessions/<session_id>/replay/<step>
Производит конкретный шаг во время повтора сессии
